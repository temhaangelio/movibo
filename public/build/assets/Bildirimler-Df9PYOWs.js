import{r as s,a as o,j as r,H as c}from"./app-TkkgAme7.js";import{U as m,s as u}from"./UserLayout-C2BqB2ZH.js";import{C as x}from"./Card-uOYvwvn3.js";import{T as p}from"./TimeAgo-dZdTrwRj.js";import{u as h}from"./useTranslation-Duiq4AUP.js";import"./Logo-BqqIsFoa.js";import"./IconBase.es-DHUL3ceQ.js";import"./MagnifyingGlass.es-J6qdx9MS.js";import"./User.es-mTA0vHRM.js";const T=({auth:d,notifications:t={data:[],links:[],total:0,from:0,to:0}})=>{const{t:b}=h(),[g,l]=s.useState(0);s.useEffect(()=>{fetch("/api/notifications/unread-count").then(e=>e.json()).then(e=>l(e.count)).catch(e=>console.error("Bildirim sayısı alınamadı:",e)),i()},[]);const i=()=>{fetch("/api/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(e=>e.json()).then(e=>{e.success&&o.reload()}).catch(e=>console.error("Bildirimler işaretlenemedi:",e))},n=e=>{switch(e.type){case"support":return"/support";case"follow":return`/users/${e.from_user?.username||e.from_user_id}`;case"like":case"comment":return`/post/${e.data?.post_id}`;default:return"#"}};return r.jsxs(m,{auth:d,children:[r.jsx(c,{title:"Bildirimler"}),r.jsx("div",{className:"w-full mx-auto pt-4",children:r.jsx(x,{className:"p-6",children:t.data?.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(u,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Henüz bildiriminiz yok!"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Yeni aktiviteler olduğunda burada görünecek."})]}):r.jsx("div",{className:"space-y-4",children:t.data?.map(e=>r.jsx("div",{onClick:()=>{const a=n(e);a!=="#"&&(window.location.href=a)},className:`flex items-start border-b border-gray-200 dark:border-gray-700 pb-4 last:border-b-0 last:pb-0 transition-colors cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 ${e.is_read,"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.content}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(p,{date:e.created_at}),!e.is_read&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Yeni"})]})]})})})})},e.id))})})})]})};export{T as default};
