import{j as e,r as s,u as j,H as _}from"./app-DxVV8Q7s.js";import{U as w}from"./UserLayout-Bo4HhSwi.js";import{P as v}from"./PostCard-DeYEPhGD.js";import{L as N}from"./Loading-cXlLaGBN.js";import{s as T}from"./FileText.es-BhoL2DYN.js";import{u as C}from"./useTranslation-BOFZMt0E.js";import"./Logo-CxtHgf6l.js";import"./IconBase.es-CBmXox22.js";import"./MagnifyingGlass.es-CmjxNXEe.js";import"./User.es-C5VCjUg2.js";import"./TimeAgo-BrRg4RvU.js";import"./Confirm-BFUHDAOl.js";import"./Trash.es-D3h6Mwa9.js";import"./Buton-Db9q6Vav.js";import"./ChatCircle.es-CF-X323R.js";import"./Heart.es-C61E1yrZ.js";import"./Star.es-Dnjpd0Tz.js";const P=({tabs:o,activeTab:l,onTabChange:x})=>e.jsx("div",{className:"flex w-full  border-b border-gray-200 dark:border-gray-700",children:o.map(a=>e.jsx("button",{onClick:()=>x(a.id),className:`px-4 py-2 w-full transition-colors h-14 ${l===a.id?"text-gray-900 dark:text-white font-bold border-b-4 border-gray-900 dark:border-gray-100":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.label},a.id))}),Q=({auth:o,posts:l,user:x})=>{const{t:a}=C(),[L,S]=s.useState("movie"),[n,u]=s.useState("following"),[d,m]=s.useState(l),[y,f]=s.useState(!1);j({title:"",content:"",media_type:"movie",media_id:"",media_title:"",media_description:"",media_poster:"",media_release_date:"",media_rating:"",media_genre:"",media_author:"",media_director:""});const g=(t,r,i)=>{m(c=>c.map(p=>p.id===t?{...p,is_liked:r,likes_count:i}:p))},h=t=>{console.log("Comment:",t)},b=t=>{m(r=>r.filter(i=>i.id!==t))},k=async t=>{f(!0);try{const c=await(await fetch(t==="following"?"/api/posts/following":"/api/posts/all")).json();m(c.posts)}catch(r){console.error("Posts fetch error:",r)}finally{f(!1)}};return s.useEffect(()=>{k(n)},[n]),e.jsxs(w,{auth:o,children:[e.jsx(_,{title:a("home")}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx(P,{tabs:[{id:"following",label:a("following_posts","Takip Ettiklerin")},{id:"all",label:a("all_posts","Tüm Paylaşımlar")}],activeTab:n,onTabChange:u})}),e.jsx("div",{className:"pb-4",children:y?e.jsx(N,{size:"lg",centered:!0}):d&&d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(t=>e.jsx(v,{post:t,user:o.user,onLike:g,onComment:h,onDelete:b},t.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx(T,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:a("no_content_yet","Henüz bir içerik yok!")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Takip ettiğiniz kullanıcılar paylaşım yaptığında burada görünecek"})]})})]})]})};export{Q as default};
