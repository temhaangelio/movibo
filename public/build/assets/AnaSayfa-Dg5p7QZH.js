import{j as e,r,u as j,H as k}from"./app-BxQPgtb9.js";import{U as w}from"./UserLayout-Cbl4QYld.js";import{P as v}from"./PostCard-D39xYxW5.js";import{L as T}from"./Loading-a0oDpa71.js";import{s as P}from"./FileText.es-BnIgGAAh.js";import{u as C}from"./useTranslation-C4Ns4NGg.js";import"./Logo-Bxg93IHV.js";import"./IconBase.es-By_IpqBY.js";import"./MagnifyingGlass.es-z8P5kMO9.js";import"./User.es-BsD0VfQS.js";import"./TimeAgo-ic6vlncr.js";import"./Confirm-DVOv4jdm.js";import"./Trash.es-CtpHMbYi.js";import"./Buton-KU3zOrn9.js";import"./ChatCircle.es-Bpseklhl.js";import"./Heart.es-_MYHU1JO.js";import"./Star.es-oJyKKSdd.js";const N=({tabs:a,activeTab:l,onTabChange:x})=>e.jsx("div",{className:"flex w-full  border-b border-gray-200 dark:border-gray-700",children:a.map(t=>e.jsx("button",{onClick:()=>x(t.id),className:`px-4 py-2 w-full transition-colors h-14 ${l===t.id?"text-gray-900 dark:text-white font-bold border-b-4 border-gray-900 dark:border-gray-100":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:t.label},t.id))}),Q=({auth:a,posts:l,user:x})=>{const{t}=C(),[L,S]=r.useState("movie"),[n,u]=r.useState("following"),[d,m]=r.useState(l),[y,f]=r.useState(!1);j({title:"",content:"",media_type:"movie",media_id:"",media_title:"",media_description:"",media_poster:"",media_release_date:"",media_rating:"",media_genre:"",media_author:"",media_director:""});const h=(o,s,i)=>{m(c=>c.map(p=>p.id===o?{...p,is_liked:s,likes_count:i}:p))},g=o=>{console.log("Comment:",o)},_=o=>{m(s=>s.filter(i=>i.id!==o))},b=async o=>{f(!0);try{const c=await(await fetch(o==="following"?"/api/posts/following":"/api/posts/all")).json();m(c.posts)}catch(s){console.error("Posts fetch error:",s)}finally{f(!1)}};return r.useEffect(()=>{b(n)},[n]),e.jsxs(w,{auth:a,children:[e.jsx(k,{title:t("home")}),e.jsxs("div",{className:"mx-auto w-full px-6",children:[e.jsx(N,{tabs:[{id:"following",label:t("following_posts","Takip Ettiklerin")},{id:"all",label:t("all_posts","Tüm Paylaşımlar")}],activeTab:n,onTabChange:u}),e.jsx("div",{className:"py-4",children:y?e.jsx("div",{className:"text-center py-12",children:e.jsx(T,{size:"lg",showText:!0,text:t("loading_posts","Paylaşımlar yükleniyor...")})}):d&&d.length>0?e.jsx("div",{className:"space-y-4",children:d.map(o=>e.jsx(v,{post:o,user:a.user,onLike:h,onComment:g,onDelete:_},o.id))}):e.jsxs("div",{className:"flex flex-col w-full items-center py-12 text-black dark:text-white",children:[e.jsx(P,{size:48}),e.jsx("span",{children:t("no_content_yet","Henüz bir içerik yok!")})]})})]})]})};export{Q as default};
