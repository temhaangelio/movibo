import{r as o,j as e,H as j,L as p,a as g}from"./app-1CFGegWC.js";import{A as b}from"./AdminLayout-D7j9ioO5.js";import{C as y}from"./Card-BArZlIJg.js";import{C}from"./Confirm-B68scm7X.js";import{T as w,a as N,b as r,c as T,d as v,e as a,P as S}from"./Pagination-_IJiNVIt.js";import{H as L}from"./Header-BC9pIts0.js";import{n as k}from"./Eye.es-DB-TjQAv.js";import{n as D}from"./Trash.es-C5et1ok0.js";import{u as H}from"./useTranslation-B6O3CaGH.js";import"./Dropdown-DckoYLvu.js";import"./IconBase.es-CROb1i5a.js";import"./ChatCircle.es-DsYPXDwK.js";import"./MagnifyingGlass.es-B-Qxmdvq.js";import"./Question.es-CoMpDBGK.js";import"./Users.es-tAYOSNba.js";const J=({comments:t})=>{const{t:P}=H(),[d,c]=o.useState(null),[m,i]=o.useState(!1),[l,x]=o.useState(""),h=t.data?.filter(s=>{if(!l)return!0;const n=l.toLowerCase();return s.user?.name?.toLowerCase().includes(n)||s.content?.toLowerCase().includes(n)||s.post?.id?.toString().includes(n)})||[],u=s=>{c(s),i(!0)},f=()=>{d&&g.delete(`/panel/comments/${d}`,{onSuccess:()=>{i(!1),c(null)}})};return e.jsxs(b,{children:[e.jsx(j,{title:"Yorum Yönetimi"}),e.jsxs(y,{className:"p-6",children:[e.jsx(L,{title:"Yorum Yönetimi",searchTerm:l,onSearchChange:s=>x(s.target.value),searchPlaceholder:"Kullanıcı, yorum veya paylaşım ID ara..."}),e.jsxs(w,{children:[e.jsx(N,{children:e.jsxs("tr",{children:[e.jsx(r,{children:"Yorum"}),e.jsx(r,{children:"Kullanıcı"}),e.jsx(r,{children:"Paylaşım"}),e.jsx(r,{children:"Tarih"}),e.jsx(r,{align:"right",children:"İşlemler"})]})}),e.jsx(T,{children:h.map(s=>e.jsxs(v,{children:[e.jsx(a,{children:e.jsxs("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:[s.content?.substring(0,100),s.content?.length>100&&"..."]})}),e.jsx(a,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:s.user?.name?.charAt(0).toUpperCase()})})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.user?.name||"Bilinmeyen Kullanıcı"})})]})}),e.jsx(a,{children:e.jsxs("div",{className:"text-sm text-gray-900",children:["Paylaşım #",s.post?.id||"N/A"]})}),e.jsx(a,{children:new Date(s.created_at).toLocaleDateString("tr-TR")}),e.jsx(a,{align:"right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(p,{href:`/panel/posts/${s.post?.id}`,className:"inline-flex items-center justify-center w-8 h-8 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",title:"Paylaşımı Görüntüle",children:e.jsx(k,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>u(s.id),className:"inline-flex items-center justify-center w-8 h-8 border border-red-300 text-xs font-medium rounded-md text-red-700 bg-white hover:bg-red-50 transition-colors",title:"Sil",children:e.jsx(D,{className:"w-4 h-4"})})]})})]},s.id))})]}),e.jsx(S,{links:t.links,total:t.total,from:t.from,to:t.to})]}),e.jsx(C,{open:m,onClose:()=>i(!1),onConfirm:f,title:"Yorumu Sil",message:"Bu yorumu silmek istediğinize emin misiniz? Bu işlem geri alınamaz.",confirmText:"Sil",cancelText:"İptal"})]})};export{J as default};
