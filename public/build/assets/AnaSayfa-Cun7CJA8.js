import{j as e,r as i,u as b,H as w}from"./app-1CFGegWC.js";import{U as v,L as k}from"./UserLayout-BdK1clx9.js";import{P as N}from"./PostCard-CQdjevm2.js";import{m as T}from"./FlyingSaucer.es-CV1AxamM.js";import{u as C}from"./useTranslation-B6O3CaGH.js";import"./Logo-Bs4F9_8V.js";import"./IconBase.es-CROb1i5a.js";import"./MagnifyingGlass.es-B-Qxmdvq.js";import"./User.es-DyCkQSaU.js";import"./Buton-D5AuJqn0.js";import"./TimeAgo-aeiYudVu.js";import"./Confirm-B68scm7X.js";import"./Trash.es-C5et1ok0.js";import"./Alert-DEbxkOPg.js";import"./CheckCircle.es-Dgdv_9V1.js";import"./XCircle.es-BeaMrH8l.js";import"./ChatCircle.es-DsYPXDwK.js";import"./Heart.es-BEp-LZMX.js";const P=({tabs:a,activeTab:l,onTabChange:f})=>e.jsx("div",{className:"flex w-full  border-b border-gray-200",children:a.map(s=>e.jsx("button",{onClick:()=>f(s.id),className:`px-4 py-2 w-full transition-colors h-14 ${l===s.id?"text-gray-900 font-bold border-b-4 border-gray-900":"text-gray-500 hover:text-gray-700"}`,children:s.label},s.id))}),V=({auth:a,posts:l,user:f})=>{const{t:s}=C(),[L,S]=i.useState("movie"),[n,x]=i.useState("all"),[m,c]=i.useState(l),[h,u]=i.useState(!1);b({title:"",content:"",media_type:"movie",media_id:"",media_title:"",media_description:"",media_poster:"",media_release_date:"",media_rating:"",media_genre:"",media_author:"",media_director:""});const y=(t,o,r)=>{c(d=>d.map(p=>p.id===t?{...p,is_liked:o,likes_count:r}:p))},g=t=>{console.log("Comment:",t)},j=t=>{c(o=>o.filter(r=>r.id!==t))},_=async t=>{u(!0);try{const d=await(await fetch(t==="following"?"/api/posts/following":"/api/posts/all")).json();c(d.posts)}catch(o){console.error("Posts fetch error:",o)}finally{u(!1)}};return i.useEffect(()=>{_(n)},[n]),e.jsxs(v,{auth:a,children:[e.jsx(w,{title:s("home")}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx(P,{tabs:[{id:"all",label:s("all_posts","Tüm Paylaşımlar")},{id:"following",label:s("following_posts","Takip Ettiklerin")}],activeTab:n,onTabChange:x})}),e.jsx("div",{className:"flex flex-col w-full items-center justify-center pb-4",children:h?e.jsx(k,{size:"lg",centered:!0}):m&&m.length>0?e.jsx("div",{className:"space-y-3 w-full",children:m.map(t=>e.jsx(N,{post:t,user:a.user,onLike:y,onComment:g,onDelete:j},t.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-48 text-center w-full",children:[e.jsx(T,{className:"w-24 h-24"}),e.jsx("h3",{className:"text-lg font-medium  mb-2",children:s("no_content_yet","Henüz bir içerik yok!")})]})})]})]})};export{V as default};
