import{r as a,j as e,H as j,L as f,a as m}from"./app-CnN1zPhp.js";import{U as g,s as c,n as b}from"./UserLayout-DKu7ohCp.js";import{B as N}from"./Buton-C46USxg4.js";import{C as k}from"./Card-EAZkIt05.js";import{P as y}from"./Pagination-B5q1mCi9.js";import{T as w}from"./TimeAgo-DFe7ZQa7.js";import{s as v}from"./ChatCircle.es-xd69plVn.js";import{p as E}from"./IconBase.es-DBDioL27.js";import{s as i}from"./CheckCircle.es-CwZvdPv3.js";import{n as C}from"./Heart.es-DrlAdBop.js";import{m as A}from"./Question.es-ZCxfoI7Z.js";import{n as T}from"./User.es-CdCXxLwo.js";import{u as _}from"./useTranslation-vd9agBZR.js";import"./Logo-B-HAfOs3.js";import"./MagnifyingGlass.es-NAktjeb2.js";const L=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z",opacity:"0.2"}),a.createElement("path",{d:"M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"}))]]),d=a.forwardRef((r,l)=>a.createElement(E,{ref:l,...r,weights:L}));d.displayName="CheckIcon";const M=d,X=({notifications:r={data:[],links:[],total:0,from:0,to:0}})=>{const{t:l}=_(),[o,x]=a.useState(0);a.useEffect(()=>{fetch("/api/notifications/unread-count").then(t=>t.json()).then(t=>x(t.count)).catch(t=>console.error("Bildirim sayısı alınamadı:",t))},[]);const u=t=>{fetch(`/api/notifications/${t}/mark-read`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(s=>s.json()).then(s=>{s.success&&m.reload()}).catch(s=>console.error("Bildirim işaretlenemedi:",s))},h=()=>{fetch("/api/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(t=>t.json()).then(t=>{t.success&&m.reload()}).catch(t=>console.error("Bildirimler işaretlenemedi:",t))},p=t=>{switch(t){case"follow":return e.jsx(T,{className:"w-5 h-5 text-blue-500"});case"like":return e.jsx(C,{className:"w-5 h-5 text-red-500"});case"comment":return e.jsx(v,{className:"w-5 h-5 text-green-500"});case"post":return e.jsx(b,{className:"w-5 h-5 text-purple-500"});case"support":return e.jsx(A,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(c,{className:"w-5 h-5 text-gray-500"})}},n=t=>{switch(t.type){case"support":return"/support";case"follow":return`/profile/${t.from_user_id}`;case"like":case"comment":return`/post/${t.data?.post_id}`;default:return"#"}};return e.jsxs(g,{children:[e.jsx(j,{title:"Bildirimler"}),e.jsxs("div",{className:"w-full mx-auto py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Bildirimler"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Tüm bildirimlerinizi buradan takip edebilirsiniz"})]}),o>0&&e.jsxs(N,{onClick:h,variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-4 h-4"}),e.jsx("span",{children:"Tümünü Okundu İşaretle"})]})]}),e.jsxs(k,{className:"p-6",children:[r.data?.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(c,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Henüz bildiriminiz yok!"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Yeni aktiviteler olduğunda burada görünecek."})]}):e.jsx("div",{className:"space-y-4",children:r.data?.map(t=>e.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-lg border transition-colors ${t.is_read?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700"}`,children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:p(t.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[t.from_user&&e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:t.from_user.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:t.content}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(w,{date:t.created_at}),!t.is_read&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Yeni"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!t.is_read&&e.jsx("button",{onClick:()=>u(t.id),className:"p-1 text-gray-400 hover:text-green-500 transition-colors",title:"Okundu olarak işaretle",children:e.jsx(M,{className:"w-4 h-4"})}),n(t)!=="#"&&e.jsx(f,{href:n(t),className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Görüntüle",children:e.jsx(i,{className:"w-4 h-4"})})]})]})})]},t.id))}),r.links&&e.jsx("div",{className:"mt-6",children:e.jsx(y,{links:r.links,total:r.total||0,from:r.from||0,to:r.to||0})})]})]})]})};export{X as default};
