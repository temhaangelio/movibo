import{r as a,j as e,H,L as o,a as x}from"./app-BMvav_zc.js";import{A as j}from"./AdminLayout-CpZQEJmA.js";import{C as w}from"./Card-BrmdgEGb.js";import{C as N}from"./Confirm-8Ptt6wEV.js";import{n as A}from"./Clock.es-Cw7JRuF_.js";import{n as v}from"./Eye.es-DplGXVpC.js";import{p as g}from"./IconBase.es-DxRyOLx4.js";import{f as Z}from"./MagnifyingGlass.es-DUHgy9I1.js";import{n as E}from"./Trash.es-CHgg6e9T.js";import{u as M}from"./useTranslation-CrVwURVX.js";import"./Dropdown-VYZbIqRR.js";import"./ChatCircle.es-CZWmnyGl.js";import"./Users.es-C_3a5FXM.js";const C=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Zm-60-52a16,16,0,1,1-16-16A16,16,0,0,1,144,152Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,96V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H208A8,8,0,0,1,216,96Z",opacity:"0.2"}),a.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm-80,84a12,12,0,1,1,12-12A12,12,0,0,1,128,164Zm32-84H96V56a32,32,0,0,1,64,0Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,82H174V56a46,46,0,0,0-92,0V82H48A14,14,0,0,0,34,96V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V96A14,14,0,0,0,208,82ZM94,56a34,34,0,0,1,68,0V82H94ZM210,208a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V96a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Zm-72-56a10,10,0,1,1-10-10A10,10,0,0,1,138,152Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,84H172V56a44,44,0,0,0-88,0V84H48A12,12,0,0,0,36,96V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V96A12,12,0,0,0,208,84ZM92,56a36,36,0,0,1,72,0V84H92ZM212,208a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V96a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Zm-76-56a8,8,0,1,1-8-8A8,8,0,0,1,136,152Z"}))]]),_=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,76H100V56a28,28,0,0,1,28-28c13.51,0,25.65,9.62,28.24,22.39a12,12,0,1,0,23.52-4.78C174.87,21.5,153.1,4,128,4A52.06,52.06,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76Zm-4,128H52V100H204Zm-92-52a16,16,0,1,1,16,16A16,16,0,0,1,112,152Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,96V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H208A8,8,0,0,1,216,96Z",opacity:"0.2"}),a.createElement("path",{d:"M208,80H96V56a32,32,0,0,1,32-32c15.37,0,29.2,11,32.16,25.59a8,8,0,0,0,15.68-3.18C171.32,24.15,151.2,8,128,8A48.05,48.05,0,0,0,80,56V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm0,128H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,80H96V56a32,32,0,0,1,32-32c15.37,0,29.2,11,32.16,25.59a8,8,0,0,0,15.68-3.18C171.32,24.15,151.2,8,128,8A48.05,48.05,0,0,0,80,56V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm-80,84a12,12,0,1,1,12-12A12,12,0,0,1,128,164Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,82H94V56a34,34,0,0,1,34-34c16.3,0,31,11.69,34.12,27.19a6,6,0,0,0,11.76-2.38C169.55,25.48,150.26,10,128,10A46.06,46.06,0,0,0,82,56V82H48A14,14,0,0,0,34,96V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V96A14,14,0,0,0,208,82Zm2,126a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V96a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Zm-72-56a10,10,0,1,1-10-10A10,10,0,0,1,138,152Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,80H96V56a32,32,0,0,1,32-32c15.37,0,29.2,11,32.16,25.59a8,8,0,0,0,15.68-3.18C171.32,24.15,151.2,8,128,8A48.05,48.05,0,0,0,80,56V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm0,128H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,84H92V56a36,36,0,0,1,36-36c17.24,0,32.75,12.38,36.08,28.8a4,4,0,1,0,7.84-1.6C167.78,26.81,149.31,12,128,12A44.05,44.05,0,0,0,84,56V84H48A12,12,0,0,0,36,96V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V96A12,12,0,0,0,208,84Zm4,124a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V96a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Zm-76-56a8,8,0,1,1-8-8A8,8,0,0,1,136,152Z"}))]]),p=a.forwardRef((r,l)=>a.createElement(g,{ref:l,...r,weights:C}));p.displayName="LockIcon";const $=p,h=a.forwardRef((r,l)=>a.createElement(g,{ref:l,...r,weights:_}));h.displayName="LockOpenIcon";const F=h,q=({users:r})=>{const{t:l}=M(),[c,d]=a.useState(null),[u,n]=a.useState(!1),[s,y]=a.useState(""),b=t=>{d(t),n(!0)},k=()=>{c&&x.delete(`/panel/users/${c}`,{onSuccess:()=>{n(!1),d(null)},onError:t=>{console.error("User deletion failed:",t),alert("Kullanıcı silinirken bir hata oluştu. Lütfen tekrar deneyin."),n(!1),d(null)},onFinish:()=>{}})},f=(t,i)=>{x.patch(`/panel/users/${t}/toggle-block`,{},{onSuccess:()=>{},onError:V=>{console.error("User block toggle failed:",V),alert("Kullanıcı bloklama durumu değiştirilirken bir hata oluştu!")}})},m=r.data?.filter(t=>t.name.toLowerCase().includes(s.toLowerCase())||t.email.toLowerCase().includes(s.toLowerCase())||t.username?.toLowerCase().includes(s.toLowerCase()))||[];return e.jsxs(j,{children:[e.jsx(H,{title:"Kullanıcı Yönetimi"}),e.jsxs(w,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Kullanıcı Yönetimi"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Kullanıcı adı, e-posta veya kullanıcı adı ara...",value:s,onChange:t=>y(t.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Toplam: ",m.length]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Kullanıcı"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Kayıt Tarihi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Durum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Blok Durumu"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"İşlemler"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:m.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${t.is_blocked?"bg-gray-400 dark:bg-gray-600":"bg-blue-600"}`,children:e.jsx("span",{className:"text-white font-semibold text-sm",children:t.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:`text-sm font-medium ${t.is_blocked?"text-gray-500 dark:text-gray-400 line-through":"text-gray-900 dark:text-white"}`,children:t.name}),e.jsxs("div",{className:`text-sm ${t.is_blocked?"text-gray-400 dark:text-gray-500 line-through":"text-gray-500 dark:text-gray-400"}`,children:["@",t.username]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.jsx("span",{className:t.is_blocked?"line-through text-gray-500 dark:text-gray-400":"",children:t.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(t.created_at).toLocaleDateString("tr-TR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.is_admin?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:t.is_admin?"Admin":"Kullanıcı"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.is_blocked?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:t.is_blocked?"Bloklu":"Aktif"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsxs(o,{href:`/panel/users/${t.id}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),"Görüntüle"]}),e.jsxs(o,{href:`/panel/users/${t.id}/activities`,className:"inline-flex items-center px-3 py-1.5 border border-blue-300 dark:border-blue-600 text-xs font-medium rounded-md text-blue-700 dark:text-blue-400 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Kullanıcı aktivitelerini görüntüle",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),"Aktiviteler"]}),e.jsx("button",{onClick:()=>f(t.id,t.is_blocked),className:`inline-flex items-center px-3 py-1.5 border text-xs font-medium rounded-md transition-colors ${t.is_blocked?"border-green-300 dark:border-green-600 text-green-700 dark:text-green-400 bg-white dark:bg-gray-800 hover:bg-green-50 dark:hover:bg-green-900/20":"border-orange-300 dark:border-orange-600 text-orange-700 dark:text-orange-400 bg-white dark:bg-gray-800 hover:bg-orange-50 dark:hover:bg-orange-900/20"}`,title:t.is_blocked?"Kullanıcıyı bloktan çıkar":"Kullanıcıyı blokla",children:t.is_blocked?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Bloktan Çıkar"]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 mr-1"}),"Blokla"]})}),e.jsxs("button",{onClick:()=>b(t.id),className:"inline-flex items-center px-3 py-1.5 border border-red-300 dark:border-red-600 text-xs font-medium rounded-md text-red-700 dark:text-red-400 bg-white dark:bg-gray-800 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[e.jsx(E,{className:"w-4 h-4 mr-1"}),"Sil"]})]})})]},t.id))})]})}),r.links&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Toplam ",r.total," kullanıcıdan ",r.from,"-",r.to," arası gösteriliyor"]}),e.jsx("div",{className:"flex space-x-2",children:r.links.map((t,i)=>t.url?e.jsx(o,{href:t.url,className:`px-3 py-2 text-sm font-medium rounded-md ${t.active?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600"}`,dangerouslySetInnerHTML:{__html:t.label}},i):e.jsx("span",{className:"px-3 py-2 text-sm font-medium rounded-md bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed",dangerouslySetInnerHTML:{__html:t.label}},i))})]})})]}),e.jsx(N,{open:u,onClose:()=>n(!1),onConfirm:k,title:"Kullanıcıyı Sil",message:"Bu kullanıcıyı silmek istediğinize emin misiniz? Bu işlem geri alınamaz.",confirmText:"Sil",cancelText:"İptal"})]})};export{q as default};
