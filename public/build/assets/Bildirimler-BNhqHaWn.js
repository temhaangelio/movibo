import{r as a,j as e,H as b}from"./app-DtpYycAE.js";import{U as k,s as w}from"./UserLayout-DvlJD6GH.js";import{B as A}from"./Buton-Y8Elo9-Q.js";import{T as C}from"./TimeAgo-BgwAoUoI.js";import{s as E}from"./ChatCircle.es-BbZFmOqa.js";import{n as M}from"./Heart.es-Bk5BRy3a.js";import{p as Z}from"./IconBase.es-CxGV17Vr.js";import{u as H}from"./useTranslation-C5ZaJDQL.js";import"./Logo-CvitF4wI.js";import"./MagnifyingGlass.es-DzjnCJT7.js";import"./User.es-Lo4wdCaN.js";const _=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M256,136a12,12,0,0,1-12,12h-8v8a12,12,0,0,1-24,0v-8h-8a12,12,0,0,1,0-24h8v-8a12,12,0,0,1,24,0v8h8A12,12,0,0,1,256,136Zm-54.81,56.28a12,12,0,1,1-18.38,15.44C169.12,191.42,145,172,108,172c-28.89,0-55.46,12.68-74.81,35.72a12,12,0,0,1-18.38-15.44A124.08,124.08,0,0,1,63.5,156.53a72,72,0,1,1,89,0A124,124,0,0,1,201.19,192.28ZM108,148a48,48,0,1,0-48-48A48.05,48.05,0,0,0,108,148Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M168,100a60,60,0,1,1-60-60A60,60,0,0,1,168,100Z",opacity:"0.2"}),a.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136ZM144,157.68a68,68,0,1,0-71.9,0c-20.65,6.76-39.23,19.39-54.17,37.17A8,8,0,0,0,24,208H192a8,8,0,0,0,6.13-13.15C183.18,177.07,164.6,164.44,144,157.68Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M254,136a6,6,0,0,1-6,6H230v18a6,6,0,0,1-12,0V142H200a6,6,0,0,1,0-12h18V112a6,6,0,0,1,12,0v18h18A6,6,0,0,1,254,136Zm-57.41,60.14a6,6,0,1,1-9.18,7.72C166.9,179.45,138.69,166,108,166s-58.89,13.45-79.41,37.86a6,6,0,0,1-9.18-7.72C35.14,177.41,55,164.48,77,158.25a66,66,0,1,1,62,0C161,164.48,180.86,177.41,196.59,196.14ZM108,154a54,54,0,1,0-54-54A54.06,54.06,0,0,0,108,154Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M252,136a4,4,0,0,1-4,4H228v20a4,4,0,0,1-8,0V140H200a4,4,0,0,1,0-8h20V112a4,4,0,0,1,8,0v20h20A4,4,0,0,1,252,136Zm-56.94,61.43a4,4,0,0,1-6.12,5.14C168,177.7,139.3,164,108,164s-60,13.7-80.94,38.57a4,4,0,1,1-6.12-5.14c16.71-19.9,38.13-33.13,61.89-38.59a64,64,0,1,1,50.34,0C156.93,164.3,178.35,177.53,195.06,197.43ZM108,156a56,56,0,1,0-56-56A56.06,56.06,0,0,0,108,156Z"}))]]),u=a.forwardRef((i,r)=>a.createElement(Z,{ref:r,...i,weights:_}));u.displayName="UserPlusIcon";const V=u,D=({auth:i})=>{const{t:r}=H(),[d,o]=a.useState([]),[F,h]=a.useState(0),[c,g]=a.useState(!0),[y,f]=a.useState(1),[p,v]=a.useState(!0),x=async(t=1)=>{try{const s=await(await fetch(`/api/notifications?page=${t}`)).json();o(t===1?s.notifications.data:l=>[...l,...s.notifications.data]),h(s.unreadCount),v(s.notifications.next_page_url!==null),f(s.notifications.current_page)}catch(n){console.error("Bildirimler yüklenirken hata:",n)}finally{g(!1)}},j=async t=>{try{(await fetch(`/api/notifications/${t}/read`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}})).ok&&(o(s=>s.map(l=>l.id===t?{...l,is_read:!0}:l)),h(s=>Math.max(0,s-1)))}catch(n){console.error("Bildirim işaretlenirken hata:",n)}},N=()=>{p&&!c&&x(y+1)};a.useEffect(()=>{x()},[]);const m=t=>{switch(t){case"like":return"text-red-500";case"follow":return"text-blue-500";case"comment":return"text-green-500";default:return"text-gray-500"}};return e.jsxs(k,{auth:i,children:[e.jsx(b,{title:r("notifications")}),e.jsx("div",{className:"px-4 py-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:c&&d.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:r("loading_notifications","Bildirimler yükleniyor...")})]}):d.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(w,{className:"w-12 h-12  mx-auto mb-4"}),e.jsx("p",{children:r("no_notifications")})]}):d.map(t=>e.jsx("div",{className:`p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${t.is_read?"":"bg-blue-50 dark:bg-blue-900/20"}`,onClick:()=>!t.is_read&&j(t.id),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gray-900 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:t.from_user?.name?.charAt(0)||"U"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:t.content}),!t.is_read&&e.jsx("div",{className:"w-2 h-2 bg-gray-900 rounded-full"})]}),e.jsx(C,{date:t.created_at,className:"text-xs mt-1"})]}),e.jsxs("div",{className:"flex-shrink-0",children:[t.type==="like"&&e.jsx(M,{className:`w-5 h-5 ${m(t.type)}`}),t.type==="follow"&&e.jsx(V,{className:`w-5 h-5 ${m(t.type)}`}),t.type==="comment"&&e.jsx(E,{className:`w-5 h-5 ${m(t.type)}`})]})]})},t.id))}),p&&e.jsx("div",{className:"p-4 text-center",children:e.jsx(A,{onClick:N,disabled:c,variant:"secondary",size:"sm",children:c?"Yükleniyor...":"Daha Fazla"})})]})})]})};export{D as default};
