import{r as n,j as e,H as j,L as u,a as g}from"./app-CnN1zPhp.js";import{A as b}from"./AdminLayout-BjGS_LGr.js";import{C as y}from"./Card-EAZkIt05.js";import{C as p}from"./Confirm-wQuMX3Et.js";import{T as w,a as k,b as t,c as N,d as C,e as s}from"./Table-3q_6t-J6.js";import{P as v}from"./Pagination-B5q1mCi9.js";import{H as T}from"./Header-BYVd-Dte.js";import{s as P}from"./ChatCircle.es-xd69plVn.js";import{n as S}from"./Eye.es-DEVhzGxY.js";import{n as L}from"./Heart.es-DrlAdBop.js";import{n as H}from"./Trash.es-DbMN26KH.js";import{u as B}from"./useTranslation-vd9agBZR.js";import"./Dropdown-DInOKPxr.js";import"./IconBase.es-DBDioL27.js";import"./MagnifyingGlass.es-NAktjeb2.js";import"./Question.es-ZCxfoI7Z.js";import"./Users.es-DHh85tEs.js";const V=({posts:a})=>{const{t:D}=B(),[d,m]=n.useState(null),[c,i]=n.useState(!1),[l,o]=n.useState(""),x=r=>{m(r),i(!0)},h=()=>{d&&g.delete(`/panel/posts/${d}`,{onSuccess:()=>{i(!1),m(null)}})},f=a.data?.filter(r=>r.content?.toLowerCase().includes(l.toLowerCase())||r.user?.name?.toLowerCase().includes(l.toLowerCase()))||[];return e.jsxs(b,{children:[e.jsx(j,{title:"Paylaşım Yönetimi"}),e.jsxs(y,{className:"p-6",children:[e.jsx(T,{title:"Paylaşım Yönetimi",searchTerm:l,onSearchChange:r=>o(r.target.value),searchPlaceholder:"Kullanıcı veya paylaşım içeriği ara..."}),e.jsxs(w,{children:[e.jsx(k,{children:e.jsxs("tr",{children:[e.jsx(t,{children:"Paylaşım"}),e.jsx(t,{children:"Kullanıcı"}),e.jsx(t,{children:"Tarih"}),e.jsx(t,{children:"Beğeni"}),e.jsx(t,{children:"Yorum"}),e.jsx(t,{align:"right",children:"İşlemler"})]})}),e.jsx(N,{children:f.map(r=>e.jsxs(C,{children:[e.jsx(s,{children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:[r.content?.substring(0,100),r.content?.length>100&&"..."]})}),e.jsx(s,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:r.user?.name?.charAt(0).toUpperCase()})})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.user?.name||"Bilinmeyen Kullanıcı"})})]})}),e.jsx(s,{children:new Date(r.created_at).toLocaleDateString("tr-TR")}),e.jsx(s,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"w-4 h-4 text-red-500 mr-1"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:r.likes_count||0})]})}),e.jsx(s,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"w-4 h-4 text-blue-500 mr-1"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:r.comments_count||0})]})}),e.jsx(s,{align:"right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(u,{href:`/panel/posts/${r.id}`,className:"inline-flex items-center justify-center w-8 h-8 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Görüntüle",children:e.jsx(S,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x(r.id),className:"inline-flex items-center justify-center w-8 h-8 border border-red-300 dark:border-red-600 text-xs font-medium rounded-md text-red-700 dark:text-red-400 bg-white dark:bg-gray-800 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Sil",children:e.jsx(H,{className:"w-4 h-4"})})]})})]},r.id))})]}),e.jsx(v,{links:a.links,total:a.total,from:a.from,to:a.to})]}),e.jsx(p,{open:c,onClose:()=>i(!1),onConfirm:h,title:"Paylaşımı Sil",message:"Bu paylaşımı silmek istediğinize emin misiniz? Bu işlem geri alınamaz.",confirmText:"Sil",cancelText:"İptal"})]})};export{V as default};
