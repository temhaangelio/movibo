import{r as o,j as e,H as j,L as p,a as g}from"./app-CUfu8rYq.js";import{A as b}from"./AdminLayout-QrEgDxbd.js";import{C as y}from"./Card-CC3fp0GY.js";import{C as w}from"./Confirm-t9phkguh.js";import{T as C,a as k,b as s,c as N,d as v,e as a}from"./Table-CEQgSX6O.js";import{P as T}from"./Pagination-DfgUMCLV.js";import{H as S}from"./Header-MVDtmIsK.js";import{n as L}from"./Eye.es-EoPDCjF3.js";import{n as D}from"./Trash.es-B89wlIPj.js";import{u as H}from"./useTranslation-D0fAQNgG.js";import"./Dropdown-CVf7t6In.js";import"./IconBase.es-CzJ_fMgf.js";import"./ChatCircle.es-TC_FV55H.js";import"./MagnifyingGlass.es-CoT4O1zZ.js";import"./Question.es-96ucTMcF.js";import"./Users.es-z5IwsZTl.js";const M=({comments:t})=>{const{t:P}=H(),[d,c]=o.useState(null),[m,i]=o.useState(!1),[l,x]=o.useState(""),h=t.data?.filter(r=>{if(!l)return!0;const n=l.toLowerCase();return r.user?.name?.toLowerCase().includes(n)||r.content?.toLowerCase().includes(n)||r.post?.id?.toString().includes(n)})||[],u=r=>{c(r),i(!0)},f=()=>{d&&g.delete(`/panel/comments/${d}`,{onSuccess:()=>{i(!1),c(null)}})};return e.jsxs(b,{children:[e.jsx(j,{title:"Yorum Yönetimi"}),e.jsxs(y,{className:"p-6",children:[e.jsx(S,{title:"Yorum Yönetimi",searchTerm:l,onSearchChange:r=>x(r.target.value),searchPlaceholder:"Kullanıcı, yorum veya paylaşım ID ara..."}),e.jsxs(C,{children:[e.jsx(k,{children:e.jsxs("tr",{children:[e.jsx(s,{children:"Yorum"}),e.jsx(s,{children:"Kullanıcı"}),e.jsx(s,{children:"Paylaşım"}),e.jsx(s,{children:"Tarih"}),e.jsx(s,{align:"right",children:"İşlemler"})]})}),e.jsx(N,{children:h.map(r=>e.jsxs(v,{children:[e.jsx(a,{children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:[r.content?.substring(0,100),r.content?.length>100&&"..."]})}),e.jsx(a,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:r.user?.name?.charAt(0).toUpperCase()})})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.user?.name||"Bilinmeyen Kullanıcı"})})]})}),e.jsx(a,{children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["Paylaşım #",r.post?.id||"N/A"]})}),e.jsx(a,{children:new Date(r.created_at).toLocaleDateString("tr-TR")}),e.jsx(a,{align:"right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(p,{href:`/panel/posts/${r.post?.id}`,className:"inline-flex items-center justify-center w-8 h-8 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Paylaşımı Görüntüle",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>u(r.id),className:"inline-flex items-center justify-center w-8 h-8 border border-red-300 dark:border-red-600 text-xs font-medium rounded-md text-red-700 dark:text-red-400 bg-white dark:bg-gray-800 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Sil",children:e.jsx(D,{className:"w-4 h-4"})})]})})]},r.id))})]}),e.jsx(T,{links:t.links,total:t.total,from:t.from,to:t.to})]}),e.jsx(w,{open:m,onClose:()=>i(!1),onConfirm:f,title:"Yorumu Sil",message:"Bu yorumu silmek istediğinize emin misiniz? Bu işlem geri alınamaz.",confirmText:"Sil",cancelText:"İptal"})]})};export{M as default};
