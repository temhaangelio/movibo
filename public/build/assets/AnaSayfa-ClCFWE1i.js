import{j as e,r as s,u as j,H as _}from"./app-TkkgAme7.js";import{U as w}from"./UserLayout-C2BqB2ZH.js";import{P as v}from"./PostCard-BpRXe8Sv.js";import{L as N}from"./Loading-vQRDuKE4.js";import{s as T}from"./FileText.es-BNbYkca-.js";import{u as C}from"./useTranslation-Duiq4AUP.js";import"./Logo-BqqIsFoa.js";import"./IconBase.es-DHUL3ceQ.js";import"./MagnifyingGlass.es-J6qdx9MS.js";import"./User.es-mTA0vHRM.js";import"./TimeAgo-dZdTrwRj.js";import"./Confirm-B7dLglQp.js";import"./Trash.es-IFV9jfAt.js";import"./Buton-DEotFYo1.js";import"./ChatCircle.es-CbFfZ8FY.js";import"./Heart.es-FNn2I8GU.js";import"./Star.es-Ca02pQjT.js";const P=({tabs:o,activeTab:l,onTabChange:x})=>e.jsx("div",{className:"flex w-full  border-b border-gray-200 dark:border-gray-700",children:o.map(a=>e.jsx("button",{onClick:()=>x(a.id),className:`px-4 py-2 w-full transition-colors h-14 ${l===a.id?"text-gray-900 dark:text-white font-bold border-b-4 border-gray-900 dark:border-gray-100":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.label},a.id))}),Q=({auth:o,posts:l,user:x})=>{const{t:a}=C(),[L,S]=s.useState("movie"),[n,u]=s.useState("following"),[d,m]=s.useState(l),[y,f]=s.useState(!1);j({title:"",content:"",media_type:"movie",media_id:"",media_title:"",media_description:"",media_poster:"",media_release_date:"",media_rating:"",media_genre:"",media_author:"",media_director:""});const g=(t,r,i)=>{m(c=>c.map(p=>p.id===t?{...p,is_liked:r,likes_count:i}:p))},h=t=>{console.log("Comment:",t)},b=t=>{m(r=>r.filter(i=>i.id!==t))},k=async t=>{f(!0);try{const c=await(await fetch(t==="following"?"/api/posts/following":"/api/posts/all")).json();m(c.posts)}catch(r){console.error("Posts fetch error:",r)}finally{f(!1)}};return s.useEffect(()=>{k(n)},[n]),e.jsxs(w,{auth:o,children:[e.jsx(_,{title:a("home")}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx(P,{tabs:[{id:"following",label:a("following_posts","Takip Ettiklerin")},{id:"all",label:a("all_posts","Tüm Paylaşımlar")}],activeTab:n,onTabChange:u})}),e.jsx("div",{className:"pb-4",children:y?e.jsx(N,{size:"lg",centered:!0}):d&&d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(t=>e.jsx(v,{post:t,user:o.user,onLike:g,onComment:h,onDelete:b},t.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx(T,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:a("no_content_yet","Henüz bir içerik yok!")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Takip ettiğiniz kullanıcılar paylaşım yaptığında burada görünecek"})]})})]})]})};export{Q as default};
