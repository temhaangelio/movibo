import{r as e,j as a,H as y,L as d,a as h}from"./app-1CFGegWC.js";import{A as k}from"./AdminLayout-D7j9ioO5.js";import{C as w}from"./Card-BArZlIJg.js";import{C as E}from"./Confirm-B68scm7X.js";import{T as v,a as M,b as n,c as C,d as N,e as r,P as $}from"./Pagination-_IJiNVIt.js";import{H as F}from"./Header-BC9pIts0.js";import"./Dropdown-DckoYLvu.js";import{n as _}from"./Clock.es-DnADivhs.js";import{n as L}from"./Eye.es-DB-TjQAv.js";import{p as x}from"./IconBase.es-CROb1i5a.js";import{n as T}from"./Trash.es-C5et1ok0.js";import{u as S}from"./useTranslation-B6O3CaGH.js";import"./ChatCircle.es-DsYPXDwK.js";import"./MagnifyingGlass.es-B-Qxmdvq.js";import"./Question.es-CoMpDBGK.js";import"./Users.es-tAYOSNba.js";const B=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Zm-60-52a16,16,0,1,1-16-16A16,16,0,0,1,144,152Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,96V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H208A8,8,0,0,1,216,96Z",opacity:"0.2"}),e.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm-80,84a12,12,0,1,1,12-12A12,12,0,0,1,128,164Zm32-84H96V56a32,32,0,0,1,64,0Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,82H174V56a46,46,0,0,0-92,0V82H48A14,14,0,0,0,34,96V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V96A14,14,0,0,0,208,82ZM94,56a34,34,0,0,1,68,0V82H94ZM210,208a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V96a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Zm-72-56a10,10,0,1,1-10-10A10,10,0,0,1,138,152Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,84H172V56a44,44,0,0,0-88,0V84H48A12,12,0,0,0,36,96V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V96A12,12,0,0,0,208,84ZM92,56a36,36,0,0,1,72,0V84H92ZM212,208a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V96a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Zm-76-56a8,8,0,1,1-8-8A8,8,0,0,1,136,152Z"}))]]),I=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,76H100V56a28,28,0,0,1,28-28c13.51,0,25.65,9.62,28.24,22.39a12,12,0,1,0,23.52-4.78C174.87,21.5,153.1,4,128,4A52.06,52.06,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76Zm-4,128H52V100H204Zm-92-52a16,16,0,1,1,16,16A16,16,0,0,1,112,152Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,96V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V96a8,8,0,0,1,8-8H208A8,8,0,0,1,216,96Z",opacity:"0.2"}),e.createElement("path",{d:"M208,80H96V56a32,32,0,0,1,32-32c15.37,0,29.2,11,32.16,25.59a8,8,0,0,0,15.68-3.18C171.32,24.15,151.2,8,128,8A48.05,48.05,0,0,0,80,56V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm0,128H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,80H96V56a32,32,0,0,1,32-32c15.37,0,29.2,11,32.16,25.59a8,8,0,0,0,15.68-3.18C171.32,24.15,151.2,8,128,8A48.05,48.05,0,0,0,80,56V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm-80,84a12,12,0,1,1,12-12A12,12,0,0,1,128,164Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,82H94V56a34,34,0,0,1,34-34c16.3,0,31,11.69,34.12,27.19a6,6,0,0,0,11.76-2.38C169.55,25.48,150.26,10,128,10A46.06,46.06,0,0,0,82,56V82H48A14,14,0,0,0,34,96V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V96A14,14,0,0,0,208,82Zm2,126a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V96a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Zm-72-56a10,10,0,1,1-10-10A10,10,0,0,1,138,152Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,80H96V56a32,32,0,0,1,32-32c15.37,0,29.2,11,32.16,25.59a8,8,0,0,0,15.68-3.18C171.32,24.15,151.2,8,128,8A48.05,48.05,0,0,0,80,56V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm0,128H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,84H92V56a36,36,0,0,1,36-36c17.24,0,32.75,12.38,36.08,28.8a4,4,0,1,0,7.84-1.6C167.78,26.81,149.31,12,128,12A44.05,44.05,0,0,0,84,56V84H48A12,12,0,0,0,36,96V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V96A12,12,0,0,0,208,84Zm4,124a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V96a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Zm-76-56a8,8,0,1,1-8-8A8,8,0,0,1,136,152Z"}))]]),f=e.forwardRef((l,s)=>e.createElement(x,{ref:s,...l,weights:B}));f.displayName="LockIcon";const K=f,u=e.forwardRef((l,s)=>e.createElement(x,{ref:s,...l,weights:I}));u.displayName="LockOpenIcon";const U=u,n0=({users:l})=>{const{t:s}=S(),[m,c]=e.useState(null),[H,i]=e.useState(!1),[o,V]=e.useState(""),p=t=>{c(t),i(!0)},g=()=>{m&&h.delete(`/panel/users/${m}`,{onSuccess:()=>{i(!1),c(null)},onError:t=>{console.error("User deletion failed:",t),alert("Kullanıcı silinirken bir hata oluştu. Lütfen tekrar deneyin."),i(!1),c(null)},onFinish:()=>{}})},b=(t,j)=>{h.patch(`/panel/users/${t}/toggle-block`,{},{onSuccess:()=>{},onError:Z=>{console.error("User block toggle failed:",Z),alert("Kullanıcı bloklama durumu değiştirilirken bir hata oluştu!")}})},A=l.data?.filter(t=>t.name.toLowerCase().includes(o.toLowerCase())||t.email.toLowerCase().includes(o.toLowerCase())||t.username?.toLowerCase().includes(o.toLowerCase()))||[];return a.jsxs(k,{children:[a.jsx(y,{title:"Kullanıcı Yönetimi"}),a.jsxs(w,{className:"p-6",style:{overflow:"visible"},children:[a.jsx(F,{title:"Kullanıcı Yönetimi",searchTerm:o,onSearchChange:t=>V(t.target.value),searchPlaceholder:"Ad, e-posta veya kullanıcı adı ara..."}),a.jsx("div",{className:"overflow-visible",children:a.jsxs(v,{children:[a.jsx(M,{children:a.jsxs("tr",{children:[a.jsx(n,{children:"Kullanıcı"}),a.jsx(n,{children:"Email"}),a.jsx(n,{children:"Durum"}),a.jsx(n,{children:"Blok Durumu"}),a.jsx(n,{align:"right",children:"İşlemler"})]})}),a.jsx(C,{children:A.map((t,j)=>a.jsxs(N,{style:{overflow:"visible"},children:[a.jsx(r,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${t.is_blocked?"bg-gray-400":"bg-blue-600"}`,children:a.jsx("span",{className:"text-white font-semibold text-sm",children:t.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:`text-sm font-medium ${t.is_blocked?"text-gray-500 line-through":"text-gray-900"}`,children:t.name}),a.jsxs("div",{className:`text-sm ${t.is_blocked?"text-gray-400 line-through":"text-gray-500"}`,children:["@",t.username]})]})]})}),a.jsx(r,{children:a.jsx("span",{className:t.is_blocked?"line-through text-gray-500":"",children:t.email})}),a.jsx(r,{children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.is_admin?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:t.is_admin?"Admin":"Kullanıcı"})}),a.jsx(r,{children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.is_blocked?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:t.is_blocked?"Bloklu":"Aktif"})}),a.jsx(r,{align:"right",className:"relative",style:{position:"relative",zIndex:50,overflow:"visible"},children:a.jsxs("div",{className:"flex space-x-2 justify-end",children:[a.jsx(d,{href:`/panel/users/${t.id}`,className:"inline-flex items-center justify-center w-8 h-8 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",title:"Görüntüle",children:a.jsx(L,{className:"w-4 h-4"})}),a.jsx(d,{href:`/panel/users/${t.id}/activities`,className:"inline-flex items-center justify-center w-8 h-8 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",title:"Aktiviteler",children:a.jsx(_,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(t.id,t.is_blocked),className:"inline-flex items-center justify-center w-8 h-8 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",title:t.is_blocked?"Bloktan Çıkar":"Blokla",children:t.is_blocked?a.jsx(U,{className:"w-4 h-4"}):a.jsx(K,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>p(t.id),className:"inline-flex items-center justify-center w-8 h-8 border border-red-300 text-xs font-medium rounded-md text-red-700 bg-white hover:bg-red-50 transition-colors",title:"Sil",children:a.jsx(T,{className:"w-4 h-4"})})]})})]},t.id))})]})}),a.jsx($,{links:l.links,total:l.total,from:l.from,to:l.to})]}),a.jsx(E,{open:H,onClose:()=>i(!1),onConfirm:g,title:"Kullanıcıyı Sil",message:"Bu kullanıcıyı silmek istediğinize emin misiniz? Bu işlem geri alınamaz.",confirmText:"Sil",cancelText:"İptal"})]})};export{n0 as default};
