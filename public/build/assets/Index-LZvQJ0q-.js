import{r,j as e,H as p,L as h}from"./app-Wz8Xz1sB.js";import{A as b}from"./AdminLayout-B720CB8V.js";import{C as f}from"./Card-DPSjc6Ta.js";import{H as j}from"./Header-BiRU116T.js";import{n as k}from"./Clock.es-z2ynhi3y.js";import{p as y}from"./IconBase.es-BSU2OHbn.js";import{f as A}from"./MagnifyingGlass.es-nIG-02Wj.js";import{p as N,c as w}from"./Monitor.es-p8vXtxf2.js";import{n as _}from"./User.es-fTKSiBt1.js";import"./Dropdown-BpX7sCwH.js";import"./ChatCircle.es-BmEq1Aah.js";import"./Question.es-C7MFRWyM.js";import"./Users.es-BpOf5alq.js";const L=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M234.29,47.91A20,20,0,0,0,216,36H40A20,20,0,0,0,25.2,69.45l.12.14L92,140.75V216a20,20,0,0,0,31.1,16.64l32-21.33A20,20,0,0,0,164,194.66V140.75l66.67-71.16.12-.14A20,20,0,0,0,234.29,47.91Zm-91,79.89A12,12,0,0,0,140,136v56.52l-24,16V136a12,12,0,0,0-3.25-8.2L49.23,60H206.77Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M221.9,61.38,152,136v58.65a8,8,0,0,1-3.56,6.66l-32,21.33A8,8,0,0,1,104,216V136L34.1,61.38A8,8,0,0,1,40,48H216A8,8,0,0,1,221.9,61.38Z",opacity:"0.2"}),r.createElement("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M227.81,66.76l-.08.09L160,139.17v55.49A16,16,0,0,1,152.87,208l-32,21.34A16,16,0,0,1,96,216V139.17L28.27,66.85l-.08-.09A16,16,0,0,1,40,40H216a16,16,0,0,1,11.84,26.76Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M228.77,50.34A13.8,13.8,0,0,0,216,42H40A14,14,0,0,0,29.67,65.42l.06.07L98,138.38V216a14,14,0,0,0,21.77,11.64l32-21.33A14,14,0,0,0,158,194.66V138.38l68.33-73A13.82,13.82,0,0,0,228.77,50.34Zm-11.26,6.94L147.62,131.9A6,6,0,0,0,146,136v58.66a2,2,0,0,1-.89,1.67l-32,21.33A2,2,0,0,1,110,216V136a6,6,0,0,0-1.62-4.1L38.53,57.32A2,2,0,0,1,40,54H216a1.9,1.9,0,0,1,1.83,1.19A1.86,1.86,0,0,1,217.51,57.28Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M227,51.15A11.85,11.85,0,0,0,216,44H40a12,12,0,0,0-8.88,20.07l.05.05L100,137.59V216a12,12,0,0,0,18.66,10l32-21.33a12,12,0,0,0,5.35-10V137.59l68.86-73.52A11.85,11.85,0,0,0,227,51.15Zm-8,7.5-69.9,74.62A4,4,0,0,0,148,136v58.65a4,4,0,0,1-1.78,3.33l-32,21.33A4,4,0,0,1,108,216V136a4,4,0,0,0-1.08-2.74L37.05,58.67A4,4,0,0,1,40,52H216a4,4,0,0,1,3,6.65Z"}))]]),m=r.forwardRef((t,s)=>r.createElement(y,{ref:s,...t,weights:L}));m.displayName="FunnelIcon";const v=m,O=({activities:t})=>{const[s,d]=r.useState(""),[n,x]=r.useState(""),i=a=>{switch(a){case"login":return"🔐";case"logout":return"🚪";case"post_create":return"📝";case"post_delete":return"🗑️";case"user_delete":return"❌";case"user_block":return"🚫";case"user_unblock":return"✅";case"profile_update":return"✏️";case"comment_create":return"💬";case"comment_delete":return"🗑️💬";case"like_create":return"❤️";case"like_delete":return"💔";case"follow_create":return"👥";case"follow_delete":return"👤";case"search":return"🔍";case"page_visit":return"🌐";default:return"📋"}},u=a=>{switch(a){case"login":case"post_create":case"profile_update":case"comment_create":case"like_create":case"follow_create":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"logout":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"post_delete":case"user_delete":case"comment_delete":case"like_delete":case"follow_delete":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"user_block":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20 dark:text-orange-400";case"user_unblock":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"search":case"page_visit":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20 dark:text-purple-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20 dark:text-gray-400"}},o=t.data?.filter(a=>{const l=a.user?.name?.toLowerCase().includes(s.toLowerCase())||a.user?.username?.toLowerCase().includes(s.toLowerCase())||a.description?.toLowerCase().includes(s.toLowerCase())||a.action?.toLowerCase().includes(s.toLowerCase()),c=!n||a.action===n;return l&&c})||[],g=[...new Set(t.data?.map(a=>a.action)||[])];return e.jsxs(b,{children:[e.jsx(p,{title:"Tüm Aktiviteler - Admin Panel"}),e.jsxs(f,{className:"p-6",children:[e.jsx(j,{title:"Aktiviteler",searchTerm:s,onSearchChange:a=>d(a.target.value),searchPlaceholder:"Kullanıcı adı, açıklama veya işlem ara...",searchWidth:"w-64"}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Kullanıcı adı, açıklama veya işlem ara...",value:s,onChange:a=>d(a.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsxs("select",{value:n,onChange:a=>x(a.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Tüm İşlemler"}),g.map(a=>e.jsx("option",{value:a,children:a.replace("_"," ").toUpperCase()},a))]})]})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.length," sonuç"]})]}),e.jsx("div",{className:"space-y-4",children:o.map(a=>e.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-2xl",children:i(a.action)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(a.action)}`,children:a.action.replace("_"," ").toUpperCase()}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(_,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.user?.name}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",a.user?.username]})]}),a.metadata&&Object.keys(a.metadata).length>0&&e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:Object.entries(a.metadata).map(([l,c])=>e.jsxs("span",{className:"inline-block mr-3",children:[e.jsxs("span",{className:"font-medium",children:[l,":"]})," ",String(c)]},l))}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(a.created_at).toLocaleString("tr-TR")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(N,{className:"w-3 h-3"}),e.jsx("span",{children:a.masked_ip_address})]}),a.url&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(w,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-xs",children:a.url})]})]})]})]})})},a.id))}),t.links&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Toplam ",t.total," aktiviteden"," ",t.from,"-",t.to," arası gösteriliyor"]}),e.jsx("div",{className:"flex space-x-2",children:t.links.map((a,l)=>a.url?e.jsx(h,{href:a.url,className:`px-3 py-2 text-sm font-medium rounded-md ${a.active?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600"}`,dangerouslySetInnerHTML:{__html:a.label}},l):e.jsx("span",{className:"px-3 py-2 text-sm font-medium rounded-md bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed",dangerouslySetInnerHTML:{__html:a.label}},l))})]})})]})]})};export{O as default};
