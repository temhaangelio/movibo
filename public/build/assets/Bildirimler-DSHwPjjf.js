import{r as a,a as c,j as r,H as d}from"./app-1CFGegWC.js";import{U as m,s as u}from"./UserLayout-BdK1clx9.js";import{C as x}from"./Card-BArZlIJg.js";import{T as p}from"./TimeAgo-aeiYudVu.js";import{u as h}from"./useTranslation-B6O3CaGH.js";import"./Logo-Bs4F9_8V.js";import"./IconBase.es-CROb1i5a.js";import"./MagnifyingGlass.es-B-Qxmdvq.js";import"./User.es-DyCkQSaU.js";import"./Buton-D5AuJqn0.js";const A=({auth:l,notifications:s={data:[],links:[],total:0,from:0,to:0}})=>{const{t:f}=h(),[j,i]=a.useState(0);a.useEffect(()=>{fetch("/api/notifications/unread-count").then(e=>e.json()).then(e=>i(e.count)).catch(e=>console.error("Bildirim sayısı alınamadı:",e)),n()},[]);const n=()=>{fetch("/api/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(e=>e.json()).then(e=>{e.success&&c.reload()}).catch(e=>console.error("Bildirimler işaretlenemedi:",e))},o=e=>{switch(e.type){case"support":return"/support";case"follow":return`/users/${e.from_user?.username||e.from_user_id}`;case"like":case"comment":return`/post/${e.data?.post_id}`;default:return"#"}};return r.jsxs(m,{auth:l,children:[r.jsx(d,{title:"Bildirimler"}),r.jsx("div",{className:"w-full mx-auto pt-4",children:r.jsx(x,{className:"p-6",children:s.data?.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(u,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz bildiriminiz yok!"}),r.jsx("p",{className:"text-gray-500",children:"Yeni aktiviteler olduğunda burada görünecek."})]}):r.jsx("div",{className:"space-y-4",children:s.data?.map(e=>r.jsx("div",{onClick:()=>{const t=o(e);t!=="#"&&(window.location.href=t)},className:`flex items-start border-b border-gray-200 pb-4 last:border-b-0 last:pb-0 transition-colors cursor-pointer hover:bg-gray-50 ${e.is_read,"bg-white border-gray-200"}`,children:r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:e.content}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(p,{date:e.created_at}),!e.is_read&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Yeni"})]})]})})})})},e.id))})})})]})};export{A as default};
