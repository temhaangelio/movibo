import{j as e,r as s,u as j,H as _}from"./app-CUfu8rYq.js";import{U as w}from"./UserLayout-D_QpIzUd.js";import{P as v}from"./PostCard-BLhB8jAd.js";import{L as N}from"./Loading-DtTTuKj4.js";import{s as T}from"./FileText.es-DbMYgAJE.js";import{u as P}from"./useTranslation-D0fAQNgG.js";import"./Logo-BXGbrpuT.js";import"./IconBase.es-CzJ_fMgf.js";import"./MagnifyingGlass.es-CoT4O1zZ.js";import"./User.es-U7lSCGfk.js";import"./TimeAgo-DfyDHC4K.js";import"./Confirm-t9phkguh.js";import"./Trash.es-B89wlIPj.js";import"./Buton-CDYTW-AX.js";import"./ChatCircle.es-TC_FV55H.js";import"./Heart.es-CGYAi1O6.js";import"./Star.es-BlTDokYj.js";const C=({tabs:o,activeTab:l,onTabChange:x})=>e.jsx("div",{className:"flex w-full  border-b border-gray-200 dark:border-gray-700",children:o.map(t=>e.jsx("button",{onClick:()=>x(t.id),className:`px-4 py-2 w-full transition-colors h-14 ${l===t.id?"text-gray-900 dark:text-white font-bold border-b-4 border-gray-900 dark:border-gray-100":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:t.label},t.id))}),Q=({auth:o,posts:l,user:x})=>{const{t}=P(),[L,S]=s.useState("movie"),[n,f]=s.useState("following"),[d,m]=s.useState(l),[g,y]=s.useState(!1);j({title:"",content:"",media_type:"movie",media_id:"",media_title:"",media_description:"",media_poster:"",media_release_date:"",media_rating:"",media_genre:"",media_author:"",media_director:""});const u=(a,r,i)=>{m(c=>c.map(p=>p.id===a?{...p,is_liked:r,likes_count:i}:p))},h=a=>{console.log("Comment:",a)},b=a=>{m(r=>r.filter(i=>i.id!==a))},k=async a=>{y(!0);try{const c=await(await fetch(a==="following"?"/api/posts/following":"/api/posts/all")).json();m(c.posts)}catch(r){console.error("Posts fetch error:",r)}finally{y(!1)}};return s.useEffect(()=>{k(n)},[n]),e.jsxs(w,{auth:o,children:[e.jsx(_,{title:t("home")}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx(C,{tabs:[{id:"following",label:t("following_posts","Takip Ettiklerin")},{id:"all",label:t("all_posts","Tüm Paylaşımlar")}],activeTab:n,onTabChange:f})}),e.jsx("div",{className:"pb-4",children:g?e.jsx("div",{className:"text-center py-8",children:e.jsx(N,{size:"lg",showText:!0,text:t("loading_posts","Paylaşımlar yükleniyor...")})}):d&&d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(a=>e.jsx(v,{post:a,user:o.user,onLike:u,onComment:h,onDelete:b},a.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx(T,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:t("no_content_yet","Henüz bir içerik yok!")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Takip ettiğiniz kullanıcılar paylaşım yaptığında burada görünecek"})]})})]})]})};export{Q as default};
